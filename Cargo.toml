[package]
name = "fricon"
version = "0.1.0"
edition = "2021"
license.workspace = true
description.workspace = true
authors.workspace = true
repository.workspace = true
keywords.workspace = true

[workspace]
members = ["fricon-py"]

[workspace.package]
license = "MIT OR Apache-2.0"
description = "Fridge controller."
authors = ["Jiahao Yuan <kahojyun@icloud.com>"]
repository = "https://github.com/kahojyun/fricon"
keywords = ["experimental"]

[workspace.dependencies]
arrow = "53.2.0"
chrono = "0.4.38"
clap = { version = "4.5.20", features = ["derive"] }
env_logger = "0.11.5"
log = "0.4.22"
serde = { version = "1.0.214", features = ["derive"] }
sqlx = { version = "0.8.2", features = [
  "chrono",
  "runtime-tokio",
  "sqlite",
  "uuid",
] }
thiserror = "2.0.0"
tokio = { version = "1.41.1", features = ["full"] }
tokio-stream = "0.1.16"
toml = "0.8.19"
uuid = { version = "1.11.0", features = ["v4", "fast-rng"] }

# Grpc
prost = "0.13.3"
prost-types = "0.13.3"
tonic = "0.12.3"
tonic-build = "0.12.3"

# Python bindings
pyo3 = "0.23.3"
pyo3-async-runtimes = { version = "0.23.0", features = ["tokio-runtime"] }

[workspace.lints.rust]
rust-2018-idioms = "warn"

[workspace.lints.clippy]
pedantic = "warn"
nursery = "warn"

[dependencies]
arrow.workspace = true
chrono.workspace = true
clap.workspace = true
env_logger.workspace = true
log.workspace = true
prost.workspace = true
prost-types.workspace = true
serde.workspace = true
sqlx.workspace = true
thiserror.workspace = true
tokio.workspace = true
toml.workspace = true
tonic.workspace = true
uuid.workspace = true

[build-dependencies]
tonic-build.workspace = true

[lints]
workspace = true
